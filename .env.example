# DocQA-MS Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
DATABASE_URL=postgresql://user:password@localhost:5432/docqa_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=docqa_db
DATABASE_USER=user
DATABASE_PASSWORD=password

# ==========================================
# MESSAGE QUEUE CONFIGURATION
# ==========================================
RABBITMQ_URL=amqp://admin:admin@localhost:5672/
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VHOST=/

# ==========================================
# LLM CONFIGURATION
# ==========================================
# Ollama (local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2:7b-chat  # or mistral:7b-instruct, codellama:7b-instruct, etc.

# OpenAI (alternative to Ollama)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4  # or gpt-3.5-turbo

# Hugging Face (alternative)
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACE_MODEL=mistralai/Mistral-7B-Instruct-v0.1

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================
# Auth0 Configuration
AUTH0_DOMAIN=your-auth0-domain.auth0.com
AUTH0_CLIENT_ID=your_auth0_client_id
AUTH0_CLIENT_SECRET=your_auth0_client_secret
AUTH0_AUDIENCE=your_auth0_api_identifier

# JWT Secret (for internal token generation if not using Auth0)
JWT_SECRET_KEY=your_super_secret_jwt_key_change_this_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption keys for sensitive data
ENCRYPTION_KEY=your_32_character_encryption_key_here

# ==========================================
# API GATEWAY CONFIGURATION
# ==========================================
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8000
API_GATEWAY_WORKERS=4

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ==========================================
# SERVICE ENDPOINTS
# ==========================================
DOC_INGESTOR_URL=http://localhost:8001
DEID_URL=http://localhost:8002
INDEXER_SEMANTIQUE_URL=http://localhost:8003
LLM_QA_URL=http://localhost:8004
SYNTHESE_COMPARATIVE_URL=http://localhost:8005
AUDIT_LOGGER_URL=http://localhost:8006

# ==========================================
# FILE STORAGE & PROCESSING
# ==========================================
# Upload settings
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,docx,txt,hl7,fhir
UPLOAD_DIR=./data/uploads

# OCR settings
TESSERACT_LANG=fra+eng  # French + English OCR

# ==========================================
# VECTOR DATABASE CONFIGURATION
# ==========================================
VECTOR_DB_TYPE=faiss  # faiss, chromadb, pinecone, weaviate
VECTOR_DB_PATH=./data/vectors
CHROMA_DB_HOST=localhost
CHROMA_DB_PORT=8000

# Embedding model settings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# ==========================================
# LOGGING & MONITORING
# ==========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # json, text

# Audit logging
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for medical compliance

# ==========================================
# DEVELOPMENT SETTINGS
# ==========================================
DEBUG=True
RELOAD=True

# Test database (separate from production)
TEST_DATABASE_URL=postgresql://user:password@localhost:5433/docqa_test_db

# ==========================================
# EXTERNAL SERVICES
# ==========================================
# Email service (for notifications - optional)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# Monitoring (optional)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ==========================================
# PERFORMANCE & SCALING
# ==========================================
# GPU settings (if available)
CUDA_VISIBLE_DEVICES=0
GPU_MEMORY_FRACTION=0.8

# Worker settings
MAX_WORKERS=4
WORKER_TIMEOUT=300  # 5 minutes

# Cache settings
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600  # 1 hour

# ==========================================
# COMPLIANCE & SECURITY
# ==========================================
# Data retention policies
MEDICAL_DATA_RETENTION_YEARS=10
AUDIT_LOG_RETENTION_YEARS=7

# PII Detection sensitivity
PII_DETECTION_THRESHOLD=0.5

# Anonymization settings
ANONYMIZATION_PREFIX=ANON_
GENERATE_SYNTHETIC_DATA=False